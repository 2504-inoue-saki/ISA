<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="UTF-8">
  <link href="/css/style.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script th:src="@{/js/confirmation.js}" charset="utf-8"></script>
    <title>個人申請詳細画面</title>
</head>
<body>
<div class="select-user">
  <span class="name" th:text="${userData.name}"></span>
  <span class="account" th:text="'@' + ${userData.account}"></span>
</div>
<div class="table" >
  <table border="1">
    <tbody>
    <tr>
      <th>日付</th>
      <th>勤務区分</th>
      <th>開始</th>
      <th>終了</th>
      <th>休憩時間</th>
      <th>労働時間</th>
      <th>申請状況</th>
      <th>承認状況</th>

    </tr>
    <div class="table-contents" th:each="datum : ${workingData}">
      <tr>
        <td th:text="${datum.date}"></td>
        <td th:text="${datum.attendWord}"></td>
        <td th:text="${datum.startWork}"></td>
        <td th:text="${datum.endWork}"></td>
        <td th:text="${datum.endBreak}"></td>
        <td th:text="${datum.endWork}"></td>
        <td th:text="${datum.attendWord}"></td>
        <td>
          <span th:if="${datum.status == 0}">申請されていません</span>
          <form th:action="@{/approval/{subjectId}(subjectId=${datum.id})}" method="post" th:if="${datum.status > 0}">
            <select name="approval" class="select-box">
              <option value="2" th:selected="${datum.status < 3}">承認</option>
              <option value="3" th:selected="${datum.status == 3}">差し戻し</option>
            </select>
            <input type="hidden" name="checkId" th:value="${datum.userId}">
            <input type="submit" value="変更">
          </form>
        </td>
      </tr>
    </div>
    </tbody>
  </table>
</div>
<a href="/application">
  <button class="signup-button table-button" type="button">申請一覧画面に戻る</button>
</a>

</body>
</html>